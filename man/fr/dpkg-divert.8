.TH DPKG-DIVERT 8 "December 1999" "Debian Project" "dpkg utilities"
.\" traduction de la révision cvs 1.4
.SH NOM
dpkg-divert -- remplacer la version d'un fichier contenu dans un
paquet.
.SH SYNOPSIS
.B dpkg-divert
[options] [--add]
.I <fichier>
.br
.B dpkg-divert
[options] --remove
.I <fichier>
.br
.B dpkg-divert
[options]
--list
.I <glob-pattern>
.br
.B dpkg-divert
[options] --truename
.I <fichier>
.br
.SH DESCRIPTION
La « déviation » de fichier est un moyen d'obliger dpkg à installer un 
fichier non pas dans l'emplacement prévu mais dans un autre.
Les scripts des paquets Debian se servent de la déviation pour déplacer les
fichiers qui créent des conflits. Les administrateurs s'en servent,
lors de l'installation d'une version plus récente d'un paquet, pour
remplacer les fichiers de configuration de certains paquets, ou bien 
à chaque fois que des fichiers (qui ne sont pas des « conffiles ») ont
besoin d'être préservés par Dpkg.
.sp
.B dpkg-divert
est le programme qu'on utilise pour créer et mettre à jour la liste des
déviations. Il possède trois modes élémentaires -- l'ajout, la suppression
et le listage de déviation. Les options sont respectivement --add, --remove, 
et --list. De plus, il peut afficher le vrai nom d'un fichier dévié. On
peut indiquer d'autres options (voyez la liste ci-dessous).
.SH OPTIONS
.TP
.I --admindir <répertoire>
Définit le répertoire de données de Dpkg comme <répertoire> (par défaut c'est 
/var/lib/dpkg).
.TP
.I --divert <dévier-dans>
<dévier-dans> est le nom utilisé pour les autres versions des paquets.
.TP
.I --help
Affiche la version, quelques instructions d'aide, et se termine normalement.
.TP
.I --local
Indique que toutes les versions des paquets sont déviées.
.TP
.I --package <paquet>
<paquet> est le nom du paquet dont l'exemplaire de <fichier> ne sera pas 
dévié.
.TP
.I --quiet
Mode silencieux, i.e. pas d'affichage loquace.
.TP
.I --rename
Met en fait le fichier de côté. Quand le fichier de destination 
existe, dpkg-divert interrompt l'opération.
.TP
.I --test
Mode de test, i.e. ne rien modifier réellement, seulement montrer.
.TP
.I --version
Affiche le nom du programme et sa version puis se termine normalement.
.SH NOTES
Pour l'ajout, le défaut est --local et --divert <original>.distrib.
Pour la suppression, --package ou --local et --divert doivent correspondre
quand ils sont précisés.
.br
On ne peut pas dévier des répertoires avec dpkg-divert.
.SH FICHIERS
.TP
.I /var/lib/dpkg/diversions
Ce fichier contient la liste actuelle des diversions en oeuvre sur le
système. Il se trouve dans le répertoire d'administration de Dpkg, avec
d'autres fichiers importants comme «\ status\ » ou «\ available\ ».
.br
Note: dpkg-divert préserve l'ancienne copie de ce fichier, avec l'extension
« -old », avant de la remplacer par la nouvelle.
.SH VOIR AUSSI
.BR dpkg (8).
.sp
Lisez le « Debian Packaging Manual », section 11., « Diversions -
overriding a package's version of a file » pour plus de renseignements.
.SH AUTEUR
Copyright (C) 1995 Ian Jackson.
.sp
C'est un logiciel libre ; voyez la « GNU General Public Licence »
version 2 ou supérieure pour le copyright. Il n'y a PAS de garantie.
.SH TRADUCTION
Philippe Batailler, Jan 2001.