.\" Hey, Emacs!  This is an -*- nroff -*- source file.
.\" Authors: Raul Miller, Ian Jackson
.\"WORD     package control information   パッケージ制御情報
.\"WORD	    gzipped ustar                 圧縮 tar 形式
.TH DEB 8 "1st July 1996" "Debian Project" "Debian GNU/Linux"
.SH 名称
deb - Debian GNU/Linux バイナリパッケージ形式
.SH 書式
.IB filename .deb
.SH 説明
.B .deb
フォーマットは Debian バイナリパッケージのファイル形式である。
.B .deb
フォーマットはDebian 0.93 で変更され、徐々に新形式に移行している。
新形式は、dpkg 0.93.76 またはそれ以降のバージョンで扱うことが
でき、 dpkg 1.2.0 以降のすべてのバージョンと 1.1.1elf 以降のす
べての i386/ELF バージョンではデフォルトでこの形式が作成される。

ここでは新形式について記述する。旧形式の詳細については
.BR deb-old (5)
を参照されたい。
.SH フォーマット
このファイルはマジックナンバー
.BR !<arch>
を持つ
.B ar
アーカイブである。現在、多くの
.B ar
の別バージョンでは異なるマジックナンバーを持つアーカイブを作成
することに注意せよ。このような
.B ar
プログラムが
.BR dpkg\-deb
により作成されるマジックナンバーを理解したとしても、
.BR dpkg\-deb 
はこれらの
.B ar
によって作成されたアーカイブを認識できない。

.B .deb
に含まれる第1のメンバーは
.B debian-binary
というファイル名で、改行で区切られた数行から成る。
現在は一行だけであり、deb 形式バージョン番号が与えられる。
現在は
.BR 2.0
である。新形式のアーカイブを読み込むプログラムは、マイナーバー
ジョン番号が上がり、新しい行が追加されている場合に対応しなければ
ならない。もし、これに該当する場合はこれらを無視する。

メジャー番号が変更されている場合、互換性のない変更がなされている
ためプログラムは停止しなければならない。メジャー番号が変更されて
ない場合は、アーカイブに予期しないメンバーが含まれていない限り
(アーカイブの最後に含まれる場合を除く)、プログラムは安全に実行を
継続できる。これについては、以下で説明する。

2番目に要請されるメンバーは
.B control.tar.gz
というファイル名を持つ圧縮 tar 形式である。これは、
パッケージ制御情報を平文ファイル群として含む。
その中でも
.B control
ファイルは必須であり、中心となる制御情報を含む。
これらのファイルについては
.I dpkg Programmers' manual
を参照されたい。この control.tar.gz は任意にカレントディレクトリ
.RB ` . '
に対するエントリを含む。

最後の3番目に要請されるメンバーは
.B data.tar.gz
というファイル名を持ち、ファイルシステムアーカイブを圧縮 tar 形
式として含む。

これらのメンバーは上に示した順序で現れなければならない。将来、
追加メンバーが定義された場合、可能ならばこれら3つのメンバーの後
に配置されるであろう。現在の実装では、
.BR data.tar.gz
以後のいかなる追加メンバーも無視される。将来において
.B data.tar.gz
の前に挿入する必要があり、それ以前のプログラムが安全に無視
することのできる追加メンバーを定義するには、そのメンバーはアン
ダースコア
.RB ` _ '
で始まる名前を持てばよい。

安全に無視することができない新しいメンバーがある場合、
このメンバーにアンダースコア以外の文字で始まる名前をつけて
.B data.tar.gz
より前に挿入するか、またはメージャーバージョン番号を上げること
になるであろう。
.SH 関連項目
.BR deb (5),
.BR deb\-control (5),
.IR "dpkg Programmers' manual" ,
.BR dpkg\-deb (8)
.SH 翻訳者
鍋谷 栄展 <nabetani@kern.phys.sci.osaka-u.ac.jp>
